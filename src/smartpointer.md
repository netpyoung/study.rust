# smart pointer



| 종류              | 설명                          | 참조 카운트                    | 멀티스레드 안전성          | 내부 변경 허용 (`!mut self`) | 주요 용도 / 특성              |
| ----------------- | ----------------------------- | ------------------------------ | -------------------------- | ---------------------------- | ----------------------------- |
| `Box<T>`          | 힙에 저장된 단일 소유 값      | ❌ 없음                         | ✅ (Send/Sync 조건 시)      | ❌ 불가                       | 트리, 재귀 구조, 큰 데이터    |
| `Rc<T>`           | 단일 스레드 내 다중 소유      | ✅ 있음                         | ❌ 불가                     | ❌ 불가                       | 불변 공유                     |
| `Arc<T>`          | 멀티스레드용 다중 소유        | ✅ 있음                         | ✅ 가능 (atomic)            | ❌ 불가                       | 멀티스레드 공유               |
| `Weak<T>`         | Rc 또는 Arc의 약한 참조       | ❌ 없음 (참조 카운트 영향 없음) | ✅ (Arc 기준) / ❌ (Rc 기준) | ❌ 불가                       | 순환 참조 방지, 소유권 미보유 |
| `Cell<T>`         | 내부 가변성 (복사 기반)       | ❌ 없음                         | ❌ 불가                     | ✅ 가능 (값 자체 교체)        | `Copy` 값 변경                |
| `RefCell<T>`      | 내부 가변성 (참조 기반)       | ❌ 없음                         | ❌ 불가                     | ✅ 가능 (런타임 체크)         | 가변 참조 빌림                |
| `UnsafeCell<T>`   | 내부 가변성의 기반 (unsafe)   | ❌ 없음                         | ❌ 직접 unsafe 처리 필요    | ✅ 가능                       | `Cell`, `RefCell`의 기반      |
| `Pin<T>`          | 이동 금지 스마트 포인터       | ❌ 없음                         | ✅ 가능                     | ✅ 가능 (단, 고정 주소 유지)  | async, generator              |
| `ManuallyDrop<T>` | Drop 호출을 수동 제어         | ❌ 없음                         | ✅ 가능                     | ✅ 가능                       | FFI, union                    |
| `MaybeUninit<T>`  | 초기화 안 된 값의 안전한 표현 | ❌ 없음                         | ✅ 가능                     | ✅ 가능                       | 성능 최적화, FFI              |
| `Cow<'a, T>`      | 읽기 위주, 필요 시 복사       | ❌ 없음                         | ✅ 가능 (조건부)            | ✅ 가능 (write 시 복사)       | Clone-on-write                |
| `Mutex<T>`        | 락 기반 내부 가변성           | ✅ 있음 (`Arc`와 함께 사용)     | ✅ 가능                     | ✅ 가능 (lock 필요)           | 멀티스레드 안전 변경          |
| `RwLock<T>`       | 읽기/쓰기 락 기반 가변성      | ✅ 있음                         | ✅ 가능                     | ✅ 가능 (lock 필요)           | 읽기 위주 공유                |
| `OnceCell<T>`     | 한 번만 초기화 가능           | ✅ 있음                         | ✅ 가능                     | ⚠️ 초기화 이후 변경 불가      | 정적/전역 설정                |
| `Lazy<T>`         | 지연 초기화                   | ✅ 있음                         | ✅ 가능 (조건부)            | ⚠️ 초기화 이후 변경 불가      | 설정 지연 실행                |

Box - std::unique_ptr<T>
Rc = Reference Counted - std::shared_ptr<T>
Weak - std::weak_ptr<T>	
Arc = Atomic Reference Counted

